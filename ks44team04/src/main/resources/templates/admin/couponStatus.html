<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/adminDefault}">

<th:block layout:fragment="customCss">
	<style>
th {
	text-align: center;
}

.table > tbody > tr > td {
	vertical-align: middle;
	text-align: center;
}
</style>
</th:block>

<th:block layout:fragment="customTitle">
	<title th:text="${title}"></title>
</th:block>

<th:block layout:fragment="customContents">
	<div class="col-md-12 col-sm-12 col-xs-12">
		<div class="x_panel">
			<div class="x_title">
				<h2>
					쿠폰목록 <small>Admin</small>
				</h2>
				<ul class="nav navbar-right panel_toolbox">
					<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</li>
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-expanded="false"><i
							class="fa fa-wrench"></i></a>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<a class="dropdown-item" href="#">Settings 1</a> <a
								class="dropdown-item" href="#">Settings 2</a>
						</div></li>
					<li><a class="close-link"><i class="fa fa-close"></i></a></li>
				</ul>
				<div class="clearfix"></div>
			</div>
			<div class="x_content2">
				<table id="datatable-checkbox"
					class="table table-striped table-bordered table-hover dataTable no-footer"
					role="grid">
					<thead>
						<tr>
							<th>회원아이디</th>
							<th>쿠폰코드</th>
							<th>쿠폰명</th>
							<th>할인금액</th>
							<th>사용조건금액</th>
							<th>만료일자</th>
							<th>지급인</th>
							<th>지급일시</th>
							<th style="width: 140px">관리</th>
						</tr>
					</thead>
					<tbody>
						<th:block th:if="${not #lists.isEmpty(couponStatus)}" th:each="c : ${couponStatus}">
							<th:block th:if="${not #lists.isEmpty(c.coupon)}" th:each="cc, status : ${c.coupon}">
								<tr>
									<th:block th:if="${status.index == 0}">	
										<td th:text="${c.buyerId}"></td>
									</th:block>
									<td th:text="${cc.couponCode}"></td>
									<td th:text="${cc.couponName}"></td>
									<td th:text="${'₩' + #numbers.formatInteger(cc.discountPrice, 3, 'COMMA')}"></td>
									<td th:text="${'₩' + #numbers.formatInteger(cc.priceTerms, 3, 'COMMA') + ' 이상'}"></td>
									<td th:text="${cc.endDate}"></td>
									<td th:text="${c.adminId}"></td>
									<td th:text="${c.couponIssueDate}"></td>
									<td>
										<a href="#"><i class="fa fa-edit"></i> 수정</a> 
										<a href="#"><i class="fa fa-close"></i>삭제</a>
									</td>
								</tr>
							</th:block>
						</th:block>
						<tr th:unless="${not #lists.isEmpty(couponStatus)}">
							<td colspan="7">등록된 쿠폰이 없습니다.</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</th:block>

</html>