<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks44team04.admin.mapper.ReportMapper">

    <resultMap type="Report" id="reportListResultMap">
        <result column="report_history_code" property="reportHistoryCode"/>
        <result column="reported_id" property="reportedId"/>
        <result column="reporting_id" property="reportingId"/>
        <result column="report_category" property="reportCategory"/>
        <result column="report_code" property="reportCode"/>
        <result column="report_what" property="reportWhat"/>
        <result column="report_reason" property="reportReason"/>
        <result column="board_file" property="boardFile"/>
        <result column="report_date" property="reportDate"/>
        <result column="report_result" property="reportResult"/>
        <result column="report_result_reason" property="reportResultReason"/>
        <result column="report_result_date" property="reportResultDate"/>
        <result column="report_approve_id" property="reportApproveId"/>
        <result column="penalty_point" property="penaltyPoint"/>
        <result column="total_penalty_point" property="totalPenaltyPoint"/>
        <result column="ban_date" property="banDate"/>
    </resultMap>
    
    
     <!-- 신고 하기 -->
     <insert id="getReport">
     INSERT INTO tb_report
	(report_history_code, reported_id, reporting_id, report_category, report_code, report_what, report_reason, board_file, report_date, report_result, report_result_reason, report_result_date, report_approve_id, penalty_point, total_penalty_point, ban_date)
	VALUES ('#{reportHistoryCode}', '#{reportedId}', '#{reportingId}', '#{reportCategory}', '#{reportCode}', '#{reportWhat}', '#{reportReason}', '#{boardFile}', NOW(), '#{reportResult}', '#{reportResultReason}', NOW(), '#{reportApproveId}', 0, 0, 0)
     </insert>
     
    <!-- 신고 목록 조회 -->
    <select id="getReportList" resultMap="reportListResultMap">
    	/* 신고 목록 조회 */
    	SELECT
			r.report_history_code
			,r.reported_id
			,r.reporting_id
			,r.report_what
			,r.report_reason
			,r.report_date
			,r.report_result_date
			,r.report_result
		FROM 
			tb_report AS r

    </select>
   

   
    
</mapper>