<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ks44team04.admin.mapper.AlertMapper">

	<resultMap 	type="AlertSend"			id="AlertSendResultMap">
		<result column="alert_send"			property="alertSend" />
		<result column="alert_code"			property="alertCode" />
		<result column="receive_id"			property="receiveId" />
		<result column="send_id"			property="sendId" />
		<result column="receive_date"		property="receiveDate" />
		<result column="send_date"			property="sendDate" />
			<association property="AlertInfo" 		javaType="AlertSend">
				<id 	column="alert_code"			property="alertCode" />
				<result column="alert_content"		property="alertContent" />
				<result column="reg_id"				property="regId" />
				<result column="reg_date"			property="regDate" />
				<result column="modify_id"			property="modifyId" />
				<result column="modify_date"		property="modifyDate" />
		    </association>
	</resultMap>
	<!-- 알림 목록 조회 -->
	<select id="getAlertSendList" resultMap="AlertSendResultMap">
		/* 알림 전송내역 조회 */
		SELECT
			 alert_send
			,alert_code
			,receive_id
			,send_id
			,receive_date
			,send_date
		FROM
			tb_alert_send
	</select>

	<resultMap 	type="Alert"				id="AlertResultMap">
		<result column="alert_code"			property="alertCode" />
		<result column="alert_content"		property="alertContent" />
		<result column="reg_id"				property="regId" />
		<result column="reg_date"			property="regDate" />
		<result column="modify_id"			property="modifyId" />
		<result column="modify_date"		property="modifyDate" />
	</resultMap>
	<!-- 알림 목록 조회 -->
	<select id="getAlertList" resultMap="AlertResultMap">
		/* 알림 목록 조회 */
		SELECT 
			 alert_code
			,alert_content
			,reg_id
			,reg_date
			,modify_id
			,modify_date
		FROM 
			tb_alert
	</select>

</mapper>